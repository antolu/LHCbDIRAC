#============================================================================
# Created    : 2008-09-24
# Maintainer : Philippe Charpentier
#============================================================================
package           LHCbDIRACPolicy

cmtpath_pattern \
   macro <project>_install_python "" \
         DIRAC_without_installarea "<path>" \
         <project>_without_installarea "" \
         <project>_with_installarea&Unix "<path>"\
         <project>_with_installarea&WIN32 "<path>\$(<project>_installarea_prefix)\python" ; \
    path_remove  PYTHONPATH ${<project>_install_python} ; \
    path_prepend PYTHONPATH ${<project>_install_python}

cmtpath_pattern \
   macro <project>_install_pyd_module "" \
         <project>_without_installarea "" \
         <project>_with_installarea&Unix "<path>/$(<project>_installarea_prefix)/$(tag)/python$(Python_config_version_twodigit)" \
         <project>_with_installarea&WIN32 "<path>\$(<project>_installarea_prefix)\$(tag)\python$(Python_config_version_twodigit)" ; \
    path_remove  PYTHONPATH $(<project>_install_pyd_module) ; \
    path_prepend PYTHONPATH $(<project>_install_pyd_module) ;

cmtpath_pattern \
   macro <project>_install_scripts "" \
         DIRAC_without_installarea "<path>/scripts" \
         <project>_without_installarea "" \
         <project>_with_installarea&Unix "<path>/scripts"\
         <project>_with_installarea&WIN32 "<path>\$(<project>_installarea_prefix)\scripts" ; \
   path_remove  PATH ${<project>_install_scripts} ; \
   path_prepend PATH ${<project>_install_scripts}

# Path cleaner
#-------------------------------------------------------------------

macro strip_script "$(LHCBDIRACPOLICYROOT)/scripts/StripPath" WIN32 "$(LHCBDIRACPOLICYROOT)\scripts\StripPath"

cmtpath_pattern \
    setup_script $(strip_script) ;

#-------------------------------------------------------------------
# Determine which DIRAC platform we are on
macro dplat "" \
      "slc4-ia32" "Linux_i686_glibc-2.3.4" \
      "slc4-amd64" "Linux_x86_64_glibc-2.3.4" \
      "target-x86_64"&"target-slc5" "Linux_x86_64_glibc-2.5" \
      "target-i686"&"target-slc5" "Linux_i686_glibc-2.5"
set DIRACPLAT $(dplat)

