#============================================================================
# Created    : 2008-09-23
# Maintainer : Joel Closier
#============================================================================
package           LHCbDiracSys

#============================================================================
# Structure, i.e. directories to process.
#============================================================================
branches          cmt doc src

include_path      none

use LHCbDiracPolicy v4r1
use LHCbDiracConfig v3r1

# The following section is only for the check out and build
private
#============================================================================
# LHCbDIRAC subsystems
#============================================================================
use AccountingSystem               head                 LHCbDIRAC
use BookkeepingSystem              head                 LHCbDIRAC
use ConfigurationSystem            head                 LHCbDIRAC
use Core                           head                 LHCbDIRAC
use DataManagementSystem           head                 LHCbDIRAC
use FrameworkSystem                head                 LHCbDIRAC
use Interfaces                     head                 LHCbDIRAC
use ProductionManagementSystem     head                 LHCbDIRAC
use Resources                      head                 LHCbDIRAC
use ResourceStatusSystem           head                 LHCbDIRAC
use TransformationSystem           head                 LHCbDIRAC
use WorkloadManagementSystem       head                 LHCbDIRAC
use Workflow                       head                 LHCbDIRAC

# Avoid the installation of __init__.py in the parent directory.
ignore_pattern install_python_init
end_private

#action DiracMake "$(DIRACROOT)/Core/scripts/dirac-deploy-scripts.py"
#macro_append constituents " DiracMake "
#macro_remove cmt_actions_constituents 'DiracMake'

action DiracGSI "$(LHCBDIRACSYSROOT)/dirac-GSI"
macro_append constituents " DiracGSI "
macro_remove cmt_actions_constituents 'DiracGSI'

action manifest.xml "python gen_manifest.py $(CMTINSTALLAREA)/$(tag)/manifest.xml"
macro_append constituents " manifest.xml "
macro_remove cmt_actions_constituents "manifest.xml"

path_remove LD_LIBRARY_PATH '/zlib/'
